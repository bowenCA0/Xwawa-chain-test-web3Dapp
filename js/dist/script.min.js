"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("en-btn"),t=document.getElementById("zh-btn"),n=document.querySelectorAll("[data-en][data-zh]");function a(t){n.forEach(function(e){e.textContent=e.getAttribute("data-".concat(t))}),localStorage.setItem("xwawa-language",t)}e.addEventListener("click",function(){a("en"),e.classList.add("active"),t.classList.remove("active")}),t.addEventListener("click",function(){a("zh"),t.classList.add("active"),e.classList.remove("active")});var c=localStorage.getItem("xwawa-language");c&&("zh"===c?t.click():e.click());var r=document.querySelector(".mobile-menu-btn"),o=document.body;if(r){var i=document.createElement("div");i.className="mobile-menu";var l=document.querySelector("nav");if(l){var s=l.cloneNode(!0);i.appendChild(s)}var u=document.createElement("div");u.className="close-menu",u.innerHTML='<i class="fas fa-times"></i>',i.appendChild(u),o.appendChild(i),r.addEventListener("click",function(){i.classList.add("active")}),u.addEventListener("click",function(){i.classList.remove("active")}),i.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){i.classList.remove("active")})})}document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href");if("#"!==t){var n=document.querySelector(t);n&&window.scrollTo({top:n.offsetTop-80,behavior:"smooth"})}})});function d(){document.querySelectorAll(".feature-card, .section-title, .about-content, .stat-item").forEach(function(e){e.getBoundingClientRect().top<window.innerHeight-100&&(e.style.opacity="1",e.style.transform="translateY(0)")})}document.querySelectorAll(".feature-card, .section-title, .about-content, .stat-item").forEach(function(e){e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.5s ease, transform 0.5s ease"}),window.addEventListener("load",d),window.addEventListener("scroll",d);var m=document.querySelector(".art-carousel-slides"),p=document.querySelectorAll(".art-slide"),h=document.querySelectorAll(".art-indicator"),g=document.querySelector(".art-carousel-btn.prev"),v=document.querySelector(".art-carousel-btn.next");if(m&&0<p.length){var f,w=function(){var e=100/E*-k;m.style.transform="translateX(".concat(e,"%)"),h.forEach(function(e,t){e.classList.toggle("active",t===k)}),p.forEach(function(e,t){e.classList.toggle("active",t===k)})},b=function(){k=(k+1)%E,w()},x=function(){k=(k-1+E)%E,w()},y=function(){f=setInterval(b,5e3)},k=0,E=p.length;v&&v.addEventListener("click",b),g&&g.addEventListener("click",x),h.forEach(function(e,t){e.addEventListener("click",function(){return function(e){k=e,w()}(t)})});var L=document.querySelector(".art-carousel-container");L&&(L.addEventListener("mouseenter",function(){clearInterval(f)}),L.addEventListener("mouseleave",y)),w(),y(),document.addEventListener("keydown",function(e){"ArrowLeft"===e.key?x():"ArrowRight"===e.key&&b()})}var S={xwawa:{price:0,change24h:0,lastUpdate:null},bitcoin:{price:0,change24h:0,lastUpdate:null},okb:{price:0,change24h:0,lastUpdate:null}};function I(){var t,n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,.0234,t=.1*(Math.random()-.5),n=.0234*(1+t),a=20*(Math.random()-.5),S.xwawa={price:n,change24h:a,lastUpdate:new Date},console.log("XWAWA价格更新:",S.xwawa),e.abrupt("return",S.xwawa);case 11:return e.prev=11,e.t0=e.catch(0),console.error("获取XWAWA价格失败:",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}},null,null,[[0,11]])}function A(){var t,n,a,c,r,o,i,l;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("https://www.okx.com/api/v5/market/ticker?instId=BTC-USDT"));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:if("0"===(n=e.sent).code&&n.data&&0<n.data.length)return a=n.data[0],c=parseFloat(a.last),r=100*parseFloat(a.changePercent),S.bitcoin={price:c,change24h:r,lastUpdate:new Date},console.log("比特币价格更新:",S.bitcoin),e.abrupt("return",S.bitcoin);e.next=16;break;case 16:throw new Error("API响应格式错误");case 17:e.next=29;break;case 19:return e.prev=19,e.t0=e.catch(0),console.error("获取比特币价格失败:",e.t0),43e3,o=.05*(Math.random()-.5),i=43e3*(1+o),l=10*(Math.random()-.5),S.bitcoin={price:i,change24h:l,lastUpdate:new Date},e.abrupt("return",S.bitcoin);case 29:case"end":return e.stop()}},null,null,[[0,19]])}function B(){var t,n,a,c,r,o,i,l;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("https://www.okx.com/api/v5/market/ticker?instId=OKB-USDT"));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:if("0"===(n=e.sent).code&&n.data&&0<n.data.length)return a=n.data[0],c=parseFloat(a.last),r=100*parseFloat(a.changePercent),S.okb={price:c,change24h:r,lastUpdate:new Date},console.log("OKB价格更新:",S.okb),e.abrupt("return",S.okb);e.next=16;break;case 16:throw new Error("API响应格式错误");case 17:e.next=29;break;case 19:return e.prev=19,e.t0=e.catch(0),console.error("获取OKB价格失败:",e.t0),45.5,o=.08*(Math.random()-.5),i=45.5*(1+o),l=15*(Math.random()-.5),S.okb={price:i,change24h:l,lastUpdate:new Date},e.abrupt("return",S.okb);case 29:case"end":return e.stop()}},null,null,[[0,19]])}function C(){var e=document.getElementById("xwawa-price"),t=document.getElementById("xwawa-change"),n=document.getElementById("xwawa-update");if(e&&0<S.xwawa.price){if(e.textContent="$".concat(S.xwawa.price.toFixed(4)),t){var a="".concat(0<=S.xwawa.change24h?"+":"").concat(S.xwawa.change24h.toFixed(2),"%");t.textContent=a,t.className="price-change ".concat(0<=S.xwawa.change24h?"positive":"negative")}n&&(n.textContent="更新时间: ".concat(S.xwawa.lastUpdate.toLocaleTimeString()))}var c=document.getElementById("btc-price"),r=document.getElementById("btc-change"),o=document.getElementById("btc-update");if(c&&0<S.bitcoin.price){if(c.textContent="$".concat(S.bitcoin.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),r){var i="".concat(0<=S.bitcoin.change24h?"+":"").concat(S.bitcoin.change24h.toFixed(2),"%");r.textContent=i,r.className="price-change ".concat(0<=S.bitcoin.change24h?"positive":"negative")}o&&(o.textContent="更新时间: ".concat(S.bitcoin.lastUpdate.toLocaleTimeString()))}var l=document.getElementById("okb-price"),s=document.getElementById("okb-change"),u=document.getElementById("okb-update");if(l&&0<S.okb.price){if(l.textContent="$".concat(S.okb.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),s){var d="".concat(0<=S.okb.change24h?"+":"").concat(S.okb.change24h.toFixed(2),"%");s.textContent=d,s.className="price-change ".concat(0<=S.okb.change24h?"positive":"negative")}u&&(u.textContent="更新时间: ".concat(S.okb.lastUpdate.toLocaleTimeString()))}}function q(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("开始更新价格数据..."),t=[I(),A(),B()],e.prev=2,e.next=5,regeneratorRuntime.awrap(Promise.all(t));case 5:C(),console.log("价格数据更新完成"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("价格更新失败:",e.t0);case 12:case"end":return e.stop()}},null,null,[[2,9]])}document.querySelector(".price-display")?(console.log("初始化价格更新系统..."),q(),setInterval(q,3e4),console.log("价格更新系统已启动，每30秒更新一次")):console.log("价格显示区域不存在，跳过价格更新初始化")});
//# sourceMappingURL=script.min.js.map
