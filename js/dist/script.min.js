"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("en-btn"),t=document.getElementById("zh-btn"),n=document.querySelectorAll("[data-en][data-zh]");function a(t){n.forEach(function(e){e.textContent=e.getAttribute("data-".concat(t))}),localStorage.setItem("xwawa-language",t)}e.addEventListener("click",function(){a("en"),e.classList.add("active"),t.classList.remove("active")}),t.addEventListener("click",function(){a("zh"),t.classList.add("active"),e.classList.remove("active")}),"zh"===(localStorage.getItem("xwawa-language")||"en")?t.click():e.click();var r=document.querySelector(".mobile-menu-btn"),c=document.body;if(r){var o=document.createElement("div");o.className="mobile-menu";var i=document.querySelector("nav");if(i){var s=i.cloneNode(!0);o.appendChild(s)}var l=document.createElement("div");l.className="close-menu",l.innerHTML='<i class="fas fa-times"></i>',o.appendChild(l),c.appendChild(o),r.addEventListener("click",function(){o.classList.add("active")}),l.addEventListener("click",function(){o.classList.remove("active")}),o.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){o.classList.remove("active")})})}document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href");if("#"!==t){var n=document.querySelector(t);n&&window.scrollTo({top:n.offsetTop-80,behavior:"smooth"})}})});function u(){document.querySelectorAll(".feature-card, .section-title, .about-content, .stat-item").forEach(function(e){e.getBoundingClientRect().top<window.innerHeight-100&&(e.style.opacity="1",e.style.transform="translateY(0)")})}document.querySelectorAll(".feature-card, .section-title, .about-content, .stat-item").forEach(function(e){e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.5s ease, transform 0.5s ease"}),window.addEventListener("load",u),window.addEventListener("scroll",u);var d=document.querySelector(".art-carousel-slides"),p=document.querySelectorAll(".art-slide"),m=document.querySelectorAll(".art-indicator"),h=document.querySelector(".art-carousel-btn.art-prev-btn"),g=document.querySelector(".art-carousel-btn.art-next-btn");if(d&&0<p.length){var v,f=function(){var e=100/k*-y;d.style.transform="translateX(".concat(e,"%)"),m.forEach(function(e,t){e.classList.toggle("active",t===y)}),p.forEach(function(e,t){e.classList.toggle("active",t===y)})},w=function(){y=(y+1)%k,f()},b=function(){y=(y-1+k)%k,f()},x=function(){v=setInterval(w,5e3)},y=0,k=p.length;g&&g.addEventListener("click",w),h&&h.addEventListener("click",b),m.forEach(function(e,t){e.addEventListener("click",function(){return function(e){y=e,f()}(t)})});var E=document.querySelector(".art-carousel-container");E&&(E.addEventListener("mouseenter",function(){clearInterval(v)}),E.addEventListener("mouseleave",x)),f(),x(),document.addEventListener("keydown",function(e){"ArrowLeft"===e.key?b():"ArrowRight"===e.key&&w()})}var L={xwawa:{price:0,change24h:0,lastUpdate:null},bitcoin:{price:0,change24h:0,lastUpdate:null},okb:{price:0,change24h:0,lastUpdate:null}};function S(){var t,n,a,r,c,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=function(){var t,n,a,r,c,o,i,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=["https://api.dexscreener.com/latest/dex/search?q=".concat(5343489647498398e31),"https://api.dexscreener.com/latest/dex/tokens/".concat(5343489647498398e31)],n=[],a=0,r=t;case 3:if(a<r.length)return c=r[a],e.prev=5,e.next=8,regeneratorRuntime.awrap(fetch(c));e.next=24;break;case 8:return o=e.sent,e.next=11,regeneratorRuntime.awrap(o.json());case 11:if(i=e.sent,0<(s=Array.isArray(i.pairs)?i.pairs:[]).length)return n=s,e.abrupt("break",24);e.next=16;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.warn("DexScreener 请求失败，尝试下一个端点:",c,e.t0);case 21:a++,e.next=3;break;case 24:if(n.length){e.next=26;break}return e.abrupt("return",null);case 26:return e.abrupt("return",n.reduce(function(e,t){return(e&&e.liquidity&&e.liquidity.usd?e.liquidity.usd:0)<(t&&t.liquidity&&t.liquidity.usd?t.liquidity.usd:0)?t:e}));case 27:case"end":return e.stop()}},null,null,[[5,18]])},n="0x095c1a875b985be6e2c86b2cae0b66a3df702e6a",e.next=5,regeneratorRuntime.awrap(t());case 5:if(a=e.sent){e.next=9;break}return console.warn("DexScreener 暂无交易对数据，保留上次有效价格",n),e.abrupt("return",L.xwawa&&L.xwawa.lastUpdate?L.xwawa:null);case 9:return r=parseFloat(a.priceUsd),c=0,c=a.priceChange&&void 0!==a.priceChange.h24?parseFloat(a.priceChange.h24):void 0!==a.priceChange24h?parseFloat(a.priceChange24h):0<(o=parseFloat(a.openPrice||"0"))?(r-o)/o*100:0,L.xwawa={price:isNaN(r)?0:r,change24h:isNaN(c)?0:c,lastUpdate:new Date},console.log("XWAWA价格更新:",L.xwawa),e.abrupt("return",L.xwawa);case 17:return e.prev=17,e.t0=e.catch(0),console.error("获取XWAWA价格失败:",e.t0),e.abrupt("return",L.xwawa&&L.xwawa.lastUpdate?L.xwawa:null);case 21:case"end":return e.stop()}},null,null,[[0,17]])}function q(){var t,n,a,r,c,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("https://www.okx.com/api/v5/market/ticker?instId=BTC-USDT"));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:if("0"===(n=e.sent).code&&n.data&&0<n.data.length)return a=n.data[0],r=parseFloat(a.last),c=parseFloat(a.open24h||"0"),o=0<c?(r-c)/c*100:0,L.bitcoin={price:isNaN(r)?0:r,change24h:isNaN(o)?0:o,lastUpdate:new Date},console.log("比特币价格更新:",L.bitcoin),e.abrupt("return",L.bitcoin);e.next=17;break;case 17:throw new Error("API响应格式错误");case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error("获取比特币价格失败:",e.t0),e.abrupt("return",L.bitcoin&&L.bitcoin.lastUpdate?L.bitcoin:null);case 24:case"end":return e.stop()}},null,null,[[0,20]])}function C(){var t,n,a,r,c,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("https://www.okx.com/api/v5/market/ticker?instId=OKB-USDT"));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:if("0"===(n=e.sent).code&&n.data&&0<n.data.length)return a=n.data[0],r=parseFloat(a.last),c=parseFloat(a.open24h||"0"),o=0<c?(r-c)/c*100:0,L.okb={price:isNaN(r)?0:r,change24h:isNaN(o)?0:o,lastUpdate:new Date},console.log("OKB价格更新:",L.okb),e.abrupt("return",L.okb);e.next=17;break;case 17:throw new Error("API响应格式错误");case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error("获取OKB价格失败:",e.t0),e.abrupt("return",L.okb&&L.okb.lastUpdate?L.okb:null);case 24:case"end":return e.stop()}},null,null,[[0,20]])}function I(){var e=document.getElementById("xwawa-price"),t=document.getElementById("xwawa-change"),n=document.getElementById("xwawa-update");if(e&&0<L.xwawa.price){if(e.textContent="$".concat(L.xwawa.price.toFixed(4)),t){var a="".concat(0<=L.xwawa.change24h?"+":"").concat(L.xwawa.change24h.toFixed(2),"%");t.textContent=a,t.className="price-change ".concat(0<=L.xwawa.change24h?"positive":"negative")}n&&(n.textContent="更新时间: ".concat(L.xwawa.lastUpdate.toLocaleTimeString()))}var r=document.getElementById("btc-price"),c=document.getElementById("btc-change"),o=document.getElementById("btc-update");if(r&&0<L.bitcoin.price){if(r.textContent="$".concat(L.bitcoin.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),c){var i="".concat(0<=L.bitcoin.change24h?"+":"").concat(L.bitcoin.change24h.toFixed(2),"%");c.textContent=i,c.className="price-change ".concat(0<=L.bitcoin.change24h?"positive":"negative")}o&&(o.textContent="更新时间: ".concat(L.bitcoin.lastUpdate.toLocaleTimeString()))}var s=document.getElementById("okb-price"),l=document.getElementById("okb-change"),u=document.getElementById("okb-update");if(s&&0<L.okb.price){if(s.textContent="$".concat(L.okb.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),l){var d="".concat(0<=L.okb.change24h?"+":"").concat(L.okb.change24h.toFixed(2),"%");l.textContent=d,l.className="price-change ".concat(0<=L.okb.change24h?"positive":"negative")}u&&(u.textContent="更新时间: ".concat(L.okb.lastUpdate.toLocaleTimeString()))}}function A(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("开始更新价格数据..."),t=[S(),q(),C()],e.prev=2,e.next=5,regeneratorRuntime.awrap(Promise.all(t));case 5:I(),console.log("价格数据更新完成"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("价格更新失败:",e.t0);case 12:case"end":return e.stop()}},null,null,[[2,9]])}document.querySelector(".price-display")?(console.log("初始化价格更新系统..."),A(),setInterval(A,3e4),console.log("价格更新系统已启动，每30秒更新一次")):console.log("价格显示区域不存在，跳过价格更新初始化")});
//# sourceMappingURL=script.min.js.map
