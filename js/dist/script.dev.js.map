{"version":3,"sources":["script.js"],"names":["document","addEventListener","enBtn","getElementById","zhBtn","elementsWithLang","querySelectorAll","setLanguage","classList","add","remove","lang","forEach","element","textContent","getAttribute","localStorage","setItem","savedLanguage","getItem","click","mobileMenuBtn","querySelector","body","mobileMenu","createElement","className","nav","navClone","cloneNode","appendChild","closeBtn","innerHTML","mobileLinks","link","anchor","e","preventDefault","targetId","targetElement","window","scrollTo","top","offsetTop","behavior","animateOnScroll","elements","elementPosition","getBoundingClientRect","windowHeight","innerHeight","style","opacity","transform","transition","carousel","slides","indicators","prevBtn","nextBtn","length","updateCarousel","translateX","currentSlide","totalSlides","indicator","index","toggle","slide","nextSlide","prevSlide","goToSlide","startAutoPlay","autoPlayInterval","setInterval","stopAutoPlay","clearInterval","carouselContainer","key","priceData","xwawa","price","change24h","lastUpdate","bitcoin","okb","fetchXwawaPrice","getBestPairByDexScreener","addr","endpoints","pairs","url","fetch","res","json","data","candidate","Array","isArray","console","warn","reduce","best","cur","bestLiq","liquidity","usd","curLiq","tokenAddress","bestPair","currentPrice","parseFloat","priceUsd","priceChange","h24","priceChange24h","open","openPrice","isNaN","Date","log","error","fetchBitcoinPrice","response","code","ticker","last","open24h","Error","fetchOkbPrice","updatePriceDisplay","xwawaPrice","xwawaChange","xwawaUpdate","toFixed","changeText","toLocaleTimeString","btcPrice","btcChange","btcUpdate","toLocaleString","minimumFractionDigits","maximumFractionDigits","okbPrice","okbChange","okbUpdate","updateAllPrices","promises","Promise","all","initializePriceUpdates","priceDisplay"],"mappings":"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","sourcesContent":["/**\n * Xwawa 项目 - 通用JavaScript功能模块\n * \n * 主要功能:\n * 1. 多语言切换系统 - 支持中英文动态切换\n * 2. 移动端菜单 - 响应式导航菜单\n * 3. 平滑滚动 - 锚点链接平滑滚动效果\n * 4. 滚动动画 - 元素进入视窗时的动画效果\n * 5. 艺术展示轮播图 - 主页艺术作品展示功能\n * \n * 后端API集成需求:\n * - POST /api/user/preferences - 保存用户语言偏好\n * - GET /api/artworks - 获取艺术作品数据\n * \n * 依赖项:\n * - Font Awesome (图标库)\n * - CSS动画支持\n * \n * 浏览器兼容性:\n * - 现代浏览器 (ES6+)\n * - 移动端浏览器\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    \n    /**\n     * 多语言切换系统\n     * 功能: 实现中英文界面切换，保存用户语言偏好\n     * 数据存储: localStorage\n     * 后端集成: 需要API保存用户偏好到服务器\n     */\n    const enBtn = document.getElementById('en-btn');\n    const zhBtn = document.getElementById('zh-btn');\n    const elementsWithLang = document.querySelectorAll('[data-en][data-zh]');\n\n    // 英文按钮点击事件\n    enBtn.addEventListener('click', function() {\n        setLanguage('en');\n        enBtn.classList.add('active');\n        zhBtn.classList.remove('active');\n    });\n\n    // 中文按钮点击事件\n    zhBtn.addEventListener('click', function() {\n        setLanguage('zh');\n        zhBtn.classList.add('active');\n        enBtn.classList.remove('active');\n    });\n\n    /**\n     * 设置页面语言\n     * @param {string} lang - 语言代码 ('en' 或 'zh')\n     * \n     * 功能说明:\n     * 1. 遍历所有带有多语言属性的元素\n     * 2. 根据语言代码更新元素文本内容\n     * 3. 保存语言偏好到本地存储\n     * \n     * 后端集成建议:\n     * - 如果用户已登录，同时调用API保存偏好到服务器\n     * - API: POST /api/user/preferences {language: lang}\n     */\n    function setLanguage(lang) {\n        elementsWithLang.forEach(element => {\n            element.textContent = element.getAttribute(`data-${lang}`);\n        });\n        localStorage.setItem('xwawa-language', lang);\n        \n        // TODO: 如果用户已登录，保存到服务器\n        // if (window.userLoggedIn) {\n        //     saveLanguagePreference(lang);\n        // }\n    }\n\n    // 检查并应用保存的语言偏好，默认为英语\n    const savedLanguage = localStorage.getItem('xwawa-language') || 'en';\n    if (savedLanguage === 'zh') {\n        zhBtn.click();\n    } else {\n        enBtn.click();\n    }\n\n    /**\n     * 移动端菜单系统\n     * 功能: 为小屏幕设备提供可折叠的导航菜单\n     * 特性: 动画效果、点击外部关闭、链接点击自动关闭\n     */\n    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');\n    const body = document.body;\n\n    if (mobileMenuBtn) {\n        // Create mobile menu\n        const mobileMenu = document.createElement('div');\n        mobileMenu.className = 'mobile-menu';\n        \n        // Clone navigation\n        const nav = document.querySelector('nav');\n        if (nav) {\n            const navClone = nav.cloneNode(true);\n            mobileMenu.appendChild(navClone);\n        }\n        \n        // Add close button\n        const closeBtn = document.createElement('div');\n        closeBtn.className = 'close-menu';\n        closeBtn.innerHTML = '<i class=\"fas fa-times\"></i>';\n        mobileMenu.appendChild(closeBtn);\n        \n        // Append to body\n        body.appendChild(mobileMenu);\n        \n        // Toggle mobile menu\n        mobileMenuBtn.addEventListener('click', function() {\n            mobileMenu.classList.add('active');\n        });\n        \n        closeBtn.addEventListener('click', function() {\n            mobileMenu.classList.remove('active');\n        });\n        \n        // Close menu when clicking on a link\n        const mobileLinks = mobileMenu.querySelectorAll('a');\n        mobileLinks.forEach(link => {\n            link.addEventListener('click', function() {\n                mobileMenu.classList.remove('active');\n            });\n        });\n    }\n\n    // Smooth scrolling for anchor links\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            \n            const targetId = this.getAttribute('href');\n            if (targetId === '#') return;\n            \n            const targetElement = document.querySelector(targetId);\n            if (targetElement) {\n                window.scrollTo({\n                    top: targetElement.offsetTop - 80,\n                    behavior: 'smooth'\n                });\n            }\n        });\n    });\n\n    // Animation on scroll\n    const animateOnScroll = function() {\n        const elements = document.querySelectorAll('.feature-card, .section-title, .about-content, .stat-item');\n        \n        elements.forEach(element => {\n            const elementPosition = element.getBoundingClientRect().top;\n            const windowHeight = window.innerHeight;\n            \n            if (elementPosition < windowHeight - 100) {\n                element.style.opacity = '1';\n                element.style.transform = 'translateY(0)';\n            }\n        });\n    };\n\n    // Set initial styles for animation\n    document.querySelectorAll('.feature-card, .section-title, .about-content, .stat-item').forEach(element => {\n        element.style.opacity = '0';\n        element.style.transform = 'translateY(20px)';\n        element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';\n    });\n\n    // Run animation on load and scroll\n    window.addEventListener('load', animateOnScroll);\n    window.addEventListener('scroll', animateOnScroll);\n\n    /**\n     * 艺术展示轮播图功能\n     * 功能: 主页艺术作品展示的交互式轮播图\n     * \n     * 特性:\n     * - 自动播放 (5秒间隔)\n     * - 手动导航 (前进/后退按钮)\n     * - 指示器点击跳转\n     * - 键盘导航 (左右箭头键)\n     * - 鼠标悬停暂停自动播放\n     * - 响应式设计\n     * \n     * 后端集成:\n     * - 艺术作品数据应从API获取: GET /api/artworks\n     * - 支持动态加载更多作品\n     * - 图片懒加载优化\n     */\n    const carousel = document.querySelector('.art-carousel-slides');\n    const slides = document.querySelectorAll('.art-slide');\n    const indicators = document.querySelectorAll('.art-indicator');\n    const prevBtn = document.querySelector('.art-carousel-btn.art-prev-btn');\n    const nextBtn = document.querySelector('.art-carousel-btn.art-next-btn');\n    \n    if (carousel && slides.length > 0) {\n        let currentSlide = 0;\n        const totalSlides = slides.length;\n\n        /**\n         * 更新轮播图显示状态\n         * 功能: 同步更新轮播图位置、指示器状态和幻灯片激活状态\n         */\n        function updateCarousel() {\n            const translateX = -currentSlide * (100 / totalSlides);\n            carousel.style.transform = `translateX(${translateX}%)`;\n            \n            // 更新指示器激活状态\n            indicators.forEach((indicator, index) => {\n                indicator.classList.toggle('active', index === currentSlide);\n            });\n            \n            // 更新幻灯片激活状态 (用于CSS动画)\n            slides.forEach((slide, index) => {\n                slide.classList.toggle('active', index === currentSlide);\n            });\n        }\n\n        // 下一张\n        function nextSlide() {\n            currentSlide = (currentSlide + 1) % totalSlides;\n            updateCarousel();\n        }\n\n        // 上一张\n        function prevSlide() {\n            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;\n            updateCarousel();\n        }\n\n        // 跳转到指定幻灯片\n        function goToSlide(index) {\n            currentSlide = index;\n            updateCarousel();\n        }\n\n        // 绑定事件\n        if (nextBtn) {\n            nextBtn.addEventListener('click', nextSlide);\n        }\n        \n        if (prevBtn) {\n            prevBtn.addEventListener('click', prevSlide);\n        }\n\n        // 绑定指示器点击事件\n        indicators.forEach((indicator, index) => {\n            indicator.addEventListener('click', () => goToSlide(index));\n        });\n\n        // 自动播放（可选）\n        let autoPlayInterval;\n        \n        function startAutoPlay() {\n            autoPlayInterval = setInterval(nextSlide, 5000); // 每5秒切换\n        }\n        \n        function stopAutoPlay() {\n            clearInterval(autoPlayInterval);\n        }\n\n        // 鼠标悬停时停止自动播放\n        const carouselContainer = document.querySelector('.art-carousel-container');\n        if (carouselContainer) {\n            carouselContainer.addEventListener('mouseenter', stopAutoPlay);\n            carouselContainer.addEventListener('mouseleave', startAutoPlay);\n        }\n\n        // 初始化\n        updateCarousel();\n        startAutoPlay();\n\n        // 键盘导航\n        document.addEventListener('keydown', function(e) {\n            if (e.key === 'ArrowLeft') {\n                prevSlide();\n            } else if (e.key === 'ArrowRight') {\n                nextSlide();\n            }\n        });\n    }\n\n    /**\n     * 实时价格更新系统\n     * 功能: 每30秒更新XWAWA、BTC、OKB价格\n     * 数据来源:\n     * - XWAWA: DexScreener API（按代币地址聚合）\n     * - BTC、OKB: OKX API\n     */\n    \n    // 价格数据缓存\n    let priceData = {\n        xwawa: {\n            price: 0.0,\n            change24h: 0.0,\n            lastUpdate: null\n        },\n        bitcoin: {\n            price: 0.0,\n            change24h: 0.0,\n            lastUpdate: null\n        },\n        okb: {\n            price: 0.0,\n            change24h: 0.0,\n            lastUpdate: null\n        }\n    };\n\n    /**\n     * 获取XWAWA代币价格（DexScreener 实时数据）\n     * 依据合约地址选择流动性最高的交易对，读取 `priceUsd` 与 24h 涨跌幅\n     */\n    async function fetchXwawaPrice() {\n        try {\n            // 使用用户提供的 XWAWA 合约地址，仅用于首页价格显示\n            const tokenAddress = '0x095c1a875b985be6e2c86b2cae0b66a3df702e6a';\n            // 优先使用 DexScreener 搜索端点，找不到再回退到 tokens 端点\n            async function getBestPairByDexScreener(addr) {\n                const endpoints = [\n                    `https://api.dexscreener.com/latest/dex/search?q=${0x095c1a875b985be6e2c86b2cae0b66a3df702e6a}`,\n                    `https://api.dexscreener.com/latest/dex/tokens/${0x095c1a875b985be6e2c86b2cae0b66a3df702e6a}`\n                ];\n\n                let pairs = [];\n                for (const url of endpoints) {\n                    try {\n                        const res = await fetch(url);\n                        const data = await res.json();\n                        const candidate = Array.isArray(data.pairs) ? data.pairs : [];\n                        if (candidate.length > 0) {\n                            pairs = candidate;\n                            break;\n                        }\n                    } catch (e) {\n                        console.warn('DexScreener 请求失败，尝试下一个端点:', url, e);\n                    }\n                }\n\n                if (!pairs.length) return null;\n                return pairs.reduce((best, cur) => {\n                    const bestLiq = (best && best.liquidity && best.liquidity.usd) ? best.liquidity.usd : 0;\n                    const curLiq = (cur && cur.liquidity && cur.liquidity.usd) ? cur.liquidity.usd : 0;\n                    return curLiq > bestLiq ? cur : best;\n                });\n            }\n\n            const bestPair = await getBestPairByDexScreener(tokenAddress);\n            if (!bestPair) {\n                console.warn('DexScreener 暂无交易对数据，保留上次有效价格', tokenAddress);\n                return priceData.xwawa && priceData.xwawa.lastUpdate ? priceData.xwawa : null;\n            }\n\n            const currentPrice = parseFloat(bestPair.priceUsd);\n            // DexScreener 的 24h 涨跌幅字段可能是 priceChange.h24 或 priceChange24h\n            let change24h = 0;\n            if (bestPair.priceChange && typeof bestPair.priceChange.h24 !== 'undefined') {\n                change24h = parseFloat(bestPair.priceChange.h24);\n            } else if (typeof bestPair.priceChange24h !== 'undefined') {\n                change24h = parseFloat(bestPair.priceChange24h);\n            } else {\n                // 无明确字段时尝试根据 openPrice 近似计算（若存在）\n                const open = parseFloat(bestPair.openPrice || '0');\n                change24h = open > 0 ? ((currentPrice - open) / open) * 100 : 0;\n            }\n\n            priceData.xwawa = {\n                price: isNaN(currentPrice) ? 0 : currentPrice,\n                change24h: isNaN(change24h) ? 0 : change24h,\n                lastUpdate: new Date()\n            };\n\n            console.log('XWAWA价格更新:', priceData.xwawa);\n            return priceData.xwawa;\n        } catch (error) {\n            console.error('获取XWAWA价格失败:', error);\n            // 回退：保留上次有效数据，避免界面显示为 NaN\n            return priceData.xwawa && priceData.xwawa.lastUpdate ? priceData.xwawa : null;\n        }\n    }\n\n    /**\n     * 获取比特币价格 (OKX API)\n     * 使用OKX公开API获取BTC价格\n     */\n    async function fetchBitcoinPrice() {\n        try {\n            const response = await fetch('https://www.okx.com/api/v5/market/ticker?instId=BTC-USDT');\n            const data = await response.json();\n\n            if (data.code === '0' && data.data && data.data.length > 0) {\n                const ticker = data.data[0];\n                const currentPrice = parseFloat(ticker.last);\n                const open24h = parseFloat(ticker.open24h || '0');\n                const change24h = open24h > 0 ? ((currentPrice - open24h) / open24h) * 100 : 0;\n\n                priceData.bitcoin = {\n                    price: isNaN(currentPrice) ? 0 : currentPrice,\n                    change24h: isNaN(change24h) ? 0 : change24h,\n                    lastUpdate: new Date()\n                };\n\n                console.log('比特币价格更新:', priceData.bitcoin);\n                return priceData.bitcoin;\n            } else {\n                throw new Error('API响应格式错误');\n            }\n        } catch (error) {\n            console.error('获取比特币价格失败:', error);\n            return priceData.bitcoin && priceData.bitcoin.lastUpdate ? priceData.bitcoin : null;\n        }\n    }\n\n    /**\n     * 获取OKB代币价格 (OKX API)\n     * 使用OKX公开API获取OKB价格\n     */\n    async function fetchOkbPrice() {\n        try {\n            const response = await fetch('https://www.okx.com/api/v5/market/ticker?instId=OKB-USDT');\n            const data = await response.json();\n\n            if (data.code === '0' && data.data && data.data.length > 0) {\n                const ticker = data.data[0];\n                const currentPrice = parseFloat(ticker.last);\n                const open24h = parseFloat(ticker.open24h || '0');\n                const change24h = open24h > 0 ? ((currentPrice - open24h) / open24h) * 100 : 0;\n\n                priceData.okb = {\n                    price: isNaN(currentPrice) ? 0 : currentPrice,\n                    change24h: isNaN(change24h) ? 0 : change24h,\n                    lastUpdate: new Date()\n                };\n\n                console.log('OKB价格更新:', priceData.okb);\n                return priceData.okb;\n            } else {\n                throw new Error('API响应格式错误');\n            }\n        } catch (error) {\n            console.error('获取OKB价格失败:', error);\n            return priceData.okb && priceData.okb.lastUpdate ? priceData.okb : null;\n        }\n    }\n\n    /**\n     * 更新页面上的价格显示\n     */\n    function updatePriceDisplay() {\n        // 更新XWAWA价格\n        const xwawaPrice = document.getElementById('xwawa-price');\n        const xwawaChange = document.getElementById('xwawa-change');\n        const xwawaUpdate = document.getElementById('xwawa-update');\n        \n        if (xwawaPrice && priceData.xwawa.price > 0) {\n            xwawaPrice.textContent = `$${priceData.xwawa.price.toFixed(4)}`;\n            \n            if (xwawaChange) {\n                const changeText = `${priceData.xwawa.change24h >= 0 ? '+' : ''}${priceData.xwawa.change24h.toFixed(2)}%`;\n                xwawaChange.textContent = changeText;\n                xwawaChange.className = `price-change ${priceData.xwawa.change24h >= 0 ? 'positive' : 'negative'}`;\n            }\n            \n            if (xwawaUpdate) {\n                xwawaUpdate.textContent = `更新时间: ${priceData.xwawa.lastUpdate.toLocaleTimeString()}`;\n            }\n        }\n        \n        // 更新比特币价格\n        const btcPrice = document.getElementById('btc-price');\n        const btcChange = document.getElementById('btc-change');\n        const btcUpdate = document.getElementById('btc-update');\n        \n        if (btcPrice && priceData.bitcoin.price > 0) {\n            btcPrice.textContent = `$${priceData.bitcoin.price.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;\n            \n            if (btcChange) {\n                const changeText = `${priceData.bitcoin.change24h >= 0 ? '+' : ''}${priceData.bitcoin.change24h.toFixed(2)}%`;\n                btcChange.textContent = changeText;\n                btcChange.className = `price-change ${priceData.bitcoin.change24h >= 0 ? 'positive' : 'negative'}`;\n            }\n            \n            if (btcUpdate) {\n                btcUpdate.textContent = `更新时间: ${priceData.bitcoin.lastUpdate.toLocaleTimeString()}`;\n            }\n        }\n        \n        // 更新OKB价格\n        const okbPrice = document.getElementById('okb-price');\n        const okbChange = document.getElementById('okb-change');\n        const okbUpdate = document.getElementById('okb-update');\n        \n        if (okbPrice && priceData.okb.price > 0) {\n            okbPrice.textContent = `$${priceData.okb.price.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;\n            \n            if (okbChange) {\n                const changeText = `${priceData.okb.change24h >= 0 ? '+' : ''}${priceData.okb.change24h.toFixed(2)}%`;\n                okbChange.textContent = changeText;\n                okbChange.className = `price-change ${priceData.okb.change24h >= 0 ? 'positive' : 'negative'}`;\n            }\n            \n            if (okbUpdate) {\n                okbUpdate.textContent = `更新时间: ${priceData.okb.lastUpdate.toLocaleTimeString()}`;\n            }\n        }\n    }\n\n    /**\n     * 获取所有价格数据\n     */\n    async function updateAllPrices() {\n        console.log('开始更新价格数据...');\n        \n        // 并行获取三个价格\n        const promises = [\n            fetchXwawaPrice(),\n            fetchBitcoinPrice(),\n            fetchOkbPrice()\n        ];\n        \n        try {\n            await Promise.all(promises);\n            updatePriceDisplay();\n            console.log('价格数据更新完成');\n        } catch (error) {\n            console.error('价格更新失败:', error);\n        }\n    }\n\n    /**\n     * 初始化价格更新系统\n     */\n    function initializePriceUpdates() {\n        // 检查价格显示区域是否存在\n        const priceDisplay = document.querySelector('.price-display');\n        if (!priceDisplay) {\n            console.log('价格显示区域不存在，跳过价格更新初始化');\n            return;\n        }\n        \n        console.log('初始化价格更新系统...');\n        \n        // 立即更新一次\n        updateAllPrices();\n        \n        // 设置定时更新 (每30秒)\n        setInterval(updateAllPrices, 30000);\n        \n        console.log('价格更新系统已启动，每30秒更新一次');\n    }\n\n    // 初始化价格更新系统\n    initializePriceUpdates();\n});"],"file":"script.dev.js"}